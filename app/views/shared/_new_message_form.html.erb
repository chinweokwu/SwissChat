

<%= form_with(model: [@single_room, @message], remote: true, data: {controller: "reset-form", action: "turbo:submit-end->reset-form#reset"}, multipart: true) do |f| %>
  <div class="w-full px-4 pt-4 mb-2 sm:mb-0">
    <div class="relative flex">
      <div class="w-full">
        <div id="attachment-previews" class="d-none" data-controller="message-preview" data-action="message-preview#preview"></div>
        <div>
          <span class="flex items-center">
            <%= f.file_field :attachments, multiple: true, data: {controller: "message-preview", action: "change->message-preview#preview"} %>
          </span>
          <div style="margin-top: 10px;">
            <%= f.text_area :body, id: 'chat-text', placeholder: "Write your message!", class: "my-4 block mx-4 p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500" %>
          </div>
        </div>
        <div class="mb-3">
          <%= f.submit "Send", data: {disable_with: false}, class: "inline-flex justify-center p-2 text-indigo-600 rounded-full cursor-pointer hover:bg-indigo-100" %>
        </div>
      </div>
    </div>
  </div>
<% end %>

